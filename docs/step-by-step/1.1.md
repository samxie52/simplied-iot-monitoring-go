# Step 1.1: é¡¹ç›®åˆå§‹åŒ–å’ŒåŸºç¡€æ¶æ„ - ä¼ä¸šçº§å·¥ä¸šIoTç›‘æ§ç³»ç»Ÿ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£å±•ç¤ºäº†åŸºäº **Go + WebSocket + Kafka** çš„å·¥ä¸šè®¾å¤‡å®æ—¶æ•°æ®ç›‘æ§ç³»ç»Ÿçš„é¡¹ç›®åˆå§‹åŒ–å’ŒåŸºç¡€æ¶æ„è®¾è®¡ã€‚è¯¥ç³»ç»Ÿä¸“ä¸ºå·¥ä¸šç‰©è”ç½‘åœºæ™¯è®¾è®¡ï¼Œæ”¯æŒ **10,000+** è®¾å¤‡å¹¶å‘ç›‘æ§ï¼Œå¤„ç†èƒ½åŠ›è¾¾ **100,000+** æ¶ˆæ¯/ç§’ï¼Œæ•°æ®å»¶è¿Ÿä½äº **50ms**ã€‚

### ğŸ¯ æŠ€æœ¯äº®ç‚¹å±•ç¤º

- **é«˜æ€§èƒ½å¹¶å‘**: åŸºäºGoè¯­è¨€åç¨‹æ¨¡å‹ï¼Œæ”¯æŒå¤§è§„æ¨¡è®¾å¤‡å¹¶å‘è¿æ¥
- **å®æ—¶æ•°æ®æµ**: Kafka + WebSocket æ¶æ„å®ç°æ¯«ç§’çº§æ•°æ®ä¼ è¾“
- **å¾®æœåŠ¡æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œæ°´å¹³æ‰©å±•
- **ä¼ä¸šçº§å·¥ç¨‹**: å®Œæ•´çš„é¡¹ç›®ç®¡ç†ã€æ„å»ºç³»ç»Ÿã€æµ‹è¯•ç­–ç•¥
- **å·¥ä¸šIoTä¸“ä¸š**: é’ˆå¯¹å·¥ä¸šç›‘æ§åœºæ™¯çš„ä¸“ä¸šæ¶æ„è®¾è®¡

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ€æœ¯äº®ç‚¹å±•ç¤º (35%)

### 1. é¡¹ç›®æŠ€æœ¯äº®ç‚¹

#### ğŸš€ æ ¸å¿ƒæŠ€æœ¯æˆå°±ä¸KPIæŒ‡æ ‡

| æ€§èƒ½æŒ‡æ ‡ | ç›®æ ‡å€¼ | æŠ€æœ¯å®ç° |
|---------|--------|----------|
| è®¾å¤‡å¹¶å‘ç›‘æ§ | 10,000+ | Goåç¨‹æ±  + è¿æ¥å¤ç”¨ |
| æ¶ˆæ¯å¤„ç†èƒ½åŠ› | 100,000+/ç§’ | Kafkaåˆ†åŒº + Consumer Group |
| æ•°æ®ä¼ è¾“å»¶è¿Ÿ | <50ms | WebSocket + å†…å­˜ç¼“å­˜ |
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.9% | å¾®æœåŠ¡ + å¥åº·æ£€æŸ¥ |
| æ‰©å±•èƒ½åŠ› | æ°´å¹³æ‰©å±• | å®¹å™¨åŒ– + è´Ÿè½½å‡è¡¡ |

#### ğŸ—ï¸ æ ¸å¿ƒæŠ€æœ¯æ ˆå±•ç¤º

**åç«¯æŠ€æœ¯æ ˆ**
- **Go 1.24+**: é«˜æ€§èƒ½å¹¶å‘å¤„ç†ï¼Œå†…å­˜å®‰å…¨ï¼Œå¿«é€Ÿç¼–è¯‘
- **Apache Kafka**: åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ”¯æŒé«˜ååé‡æ•°æ®æµ
- **WebSocket**: å®æ—¶åŒå‘é€šä¿¡ï¼Œä½å»¶è¿Ÿæ•°æ®æ¨é€
- **Gorilla WebSocket**: ä¼ä¸šçº§WebSocketåº“ï¼Œè¿æ¥ç®¡ç†ä¼˜åŒ–
- **Sarama**: é«˜æ€§èƒ½Kafka Goå®¢æˆ·ç«¯ï¼Œæ”¯æŒé›†ç¾¤æ¨¡å¼

**å‰ç«¯æŠ€æœ¯æ ˆ**
- **åŸç”ŸJavaScript**: è½»é‡çº§ï¼Œæ— æ¡†æ¶ä¾èµ–ï¼Œå¿«é€Ÿå“åº”
- **Chart.js**: å®æ—¶å›¾è¡¨å±•ç¤ºï¼Œæ”¯æŒå¤šç§å›¾è¡¨ç±»å‹
- **WebSocket API**: æµè§ˆå™¨åŸç”Ÿå®æ—¶é€šä¿¡æ”¯æŒ

**åŸºç¡€è®¾æ–½**
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²ï¼Œç¯å¢ƒä¸€è‡´æ€§ä¿è¯
- **Docker Compose**: å¤šæœåŠ¡ç¼–æ’ï¼Œå¼€å‘ç¯å¢ƒå¿«é€Ÿæ­å»º
- **Makefile**: æ„å»ºè‡ªåŠ¨åŒ–ï¼Œæ ‡å‡†åŒ–å¼€å‘æµç¨‹

#### ğŸ­ ä¼ä¸šçº§ç³»ç»Ÿç‰¹å¾

- **å¾®æœåŠ¡æ¶æ„**: Producerã€Consumerã€WebSocketã€Webå››å¤§æœåŠ¡ç‹¬ç«‹éƒ¨ç½²
- **é«˜å¹¶å‘å¤„ç†**: åŸºäºGoåç¨‹çš„å¹¶å‘æ¨¡å‹ï¼Œæ”¯æŒç™¾ä¸‡çº§è¿æ¥
- **å®æ—¶æ•°æ®æµ**: ç«¯åˆ°ç«¯æ•°æ®æµå¤„ç†ï¼Œä»è®¾å¤‡åˆ°å‰ç«¯çš„å®Œæ•´é“¾è·¯
- **å¯è§†åŒ–ç›‘æ§**: å®æ—¶ä»ªè¡¨æ¿ï¼Œå¤šç»´åº¦æ•°æ®å±•ç¤ºå’Œå‘Šè­¦
- **å¼¹æ€§æ‰©å±•**: æ”¯æŒæœåŠ¡æ°´å¹³æ‰©å±•å’Œè´Ÿè½½å‡è¡¡

#### ğŸ”§ å·¥ä¸šIoTé¢†åŸŸä»·å€¼

- **å®æ—¶ç›‘æ§**: è®¾å¤‡çŠ¶æ€å®æ—¶æ„ŸçŸ¥ï¼Œå¼‚å¸¸æƒ…å†µåŠæ—¶å‘ç°
- **æ™ºèƒ½å‘Šè­¦**: åŸºäºé˜ˆå€¼å’Œè¶‹åŠ¿çš„æ™ºèƒ½å‘Šè­¦ç³»ç»Ÿ
- **æ•°æ®å¯è§†åŒ–**: ç›´è§‚çš„å›¾è¡¨å±•ç¤ºï¼Œæ”¯æŒå†å²æ•°æ®åˆ†æ
- **è¿ç»´è‡ªåŠ¨åŒ–**: è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç›‘æ§ï¼Œé™ä½è¿ç»´æˆæœ¬

### 2. æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡

#### ğŸ” åç«¯æŠ€æœ¯æ ˆå¯¹æ¯”åˆ†æ

| æŠ€æœ¯æ ˆ | å¹¶å‘æ€§èƒ½ | å†…å­˜å ç”¨ | å¼€å‘æ•ˆç‡ | ç”Ÿæ€æˆç†Ÿåº¦ | éƒ¨ç½²ä¾¿åˆ©æ€§ | æ¨èæŒ‡æ•° |
|--------|----------|----------|----------|------------|------------|----------|
| **Go** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | **â­â­â­â­â­** |
| Java | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ |
| Python | â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| Node.js | â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­ |

**Goè¯­è¨€é€‰æ‹©ç†ç”±**:
- åŸç”Ÿåç¨‹æ”¯æŒï¼Œè½»æ¾å¤„ç†é«˜å¹¶å‘åœºæ™¯
- é™æ€ç¼–è¯‘ï¼Œéƒ¨ç½²ç®€å•ï¼Œæ— è¿è¡Œæ—¶ä¾èµ–
- å†…å­˜ç®¡ç†é«˜æ•ˆï¼ŒGCå»¶è¿Ÿä½
- æ ‡å‡†åº“ä¸°å¯Œï¼Œç½‘ç»œç¼–ç¨‹èƒ½åŠ›å¼º

#### ğŸ“¨ æ¶ˆæ¯é˜Ÿåˆ—å¯¹æ¯”åˆ†æ

| æ¶ˆæ¯é˜Ÿåˆ— | ååé‡ | å»¶è¿Ÿ | å¯é æ€§ | è¿ç»´å¤æ‚åº¦ | ç”Ÿæ€æ”¯æŒ | æ¨èæŒ‡æ•° |
|----------|--------|------|--------|------------|----------|----------|
| **Kafka** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | **â­â­â­â­â­** |
| RabbitMQ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ |
| Redis | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­ |
| NATS | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­ |
| Pulsar | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­ | â­â­â­â­ |

**Kafkaé€‰æ‹©ç†ç”±**:
- é«˜ååé‡ï¼Œæ”¯æŒç™¾ä¸‡çº§æ¶ˆæ¯å¤„ç†
- åˆ†åŒºæœºåˆ¶ï¼Œå¤©ç„¶æ”¯æŒæ°´å¹³æ‰©å±•
- æŒä¹…åŒ–å­˜å‚¨ï¼Œæ•°æ®å¯é æ€§é«˜
- ä¸°å¯Œçš„Goå®¢æˆ·ç«¯æ”¯æŒ

#### ğŸ”„ å®æ—¶é€šä¿¡æ–¹æ¡ˆå¯¹æ¯”

| é€šä¿¡æ–¹æ¡ˆ | å®æ—¶æ€§ | æµè§ˆå™¨æ”¯æŒ | æœåŠ¡ç«¯å¤æ‚åº¦ | æ‰©å±•æ€§ | æ¨èæŒ‡æ•° |
|----------|--------|------------|--------------|--------|----------|
| **WebSocket** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | **â­â­â­â­â­** |
| Server-Sent Events | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ |
| gRPC Streaming | â­â­â­â­â­ | â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| Socket.IO | â­â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­ | â­â­â­ |

#### ğŸ¨ å‰ç«¯æŠ€æœ¯é€‰æ‹©

**åŸç”ŸJavaScript + Chart.js é€‰æ‹©ç†ç”±**:
- æ— æ¡†æ¶ä¾èµ–ï¼ŒåŠ è½½é€Ÿåº¦å¿«
- Chart.jsä¸“ä¸šå›¾è¡¨åº“ï¼Œå®æ—¶æ›´æ–°æ”¯æŒå¥½
- æµè§ˆå™¨å…¼å®¹æ€§å¼ºï¼Œéƒ¨ç½²ç®€å•
- é€‚åˆæ•°æ®å±•ç¤ºä¸ºä¸»çš„ç›‘æ§åœºæ™¯

#### ğŸ“¦ å®¹å™¨åŒ–æ–¹æ¡ˆé€‰æ‹©

**Docker é€‰æ‹©ç†ç”±**:
- ç”Ÿæ€æˆç†Ÿï¼Œç¤¾åŒºæ”¯æŒå¥½
- ä¸Goè¯­è¨€é™æ€ç¼–è¯‘ç‰¹æ€§å®Œç¾ç»“åˆ
- Docker Composeç®€åŒ–å¤šæœåŠ¡å¼€å‘ç¯å¢ƒ
- ä¼ä¸šçº§å®¹å™¨ç¼–æ’æ”¯æŒ

### 3. æ ¸å¿ƒæ¶æ„è®¾è®¡

#### ğŸ—ï¸ ç³»ç»Ÿæ•´ä½“æ¶æ„å›¾

```mermaid
graph TB
    subgraph "è®¾å¤‡å±‚ (Device Layer)"
        DEV1[è®¾å¤‡1<br/>æ¸©åº¦ä¼ æ„Ÿå™¨]
        DEV2[è®¾å¤‡2<br/>æ¹¿åº¦ä¼ æ„Ÿå™¨]
        DEV3[è®¾å¤‡N<br/>å‹åŠ›ä¼ æ„Ÿå™¨]
        SIM[è®¾å¤‡æ•°æ®æ¨¡æ‹Ÿå™¨<br/>Device Simulator]
    end
    
    subgraph "æ¶ˆæ¯é˜Ÿåˆ—å±‚ (Message Queue Layer)"
        KAFKA[Apache Kafka Cluster]
        TOPIC1[device-data Topic<br/>åˆ†åŒº: 10ä¸ª]
        TOPIC2[alerts Topic<br/>åˆ†åŒº: 3ä¸ª]
    end
    
    subgraph "åº”ç”¨æœåŠ¡å±‚ (Application Service Layer)"
        PROD[Producer Service<br/>è®¾å¤‡æ•°æ®ç”Ÿæˆå™¨]
        CONS[Consumer Service<br/>æ•°æ®æ¶ˆè´¹å¤„ç†]
        WS[WebSocket Service<br/>å®æ—¶æ¨é€æœåŠ¡]
        WEB[Web Service<br/>HTTP APIæœåŠ¡]
    end
    
    subgraph "å­˜å‚¨å±‚ (Storage Layer)"
        CACHE[(å†…å­˜ç¼“å­˜<br/>Redis/In-Memory)]
        METRICS[(æŒ‡æ ‡å­˜å‚¨<br/>Prometheus)]
    end
    
    subgraph "å‰ç«¯å±•ç¤ºå±‚ (Frontend Layer)"
        DASH[å®æ—¶ç›‘æ§ä»ªè¡¨æ¿]
        CHART[Chart.jså›¾è¡¨ç»„ä»¶]
        ALERT[å‘Šè­¦å±•ç¤ºç»„ä»¶]
    end
    
    DEV1 --> SIM
    DEV2 --> SIM
    DEV3 --> SIM
    
    SIM --> PROD
    PROD --> KAFKA
    KAFKA --> TOPIC1
    KAFKA --> TOPIC2
    
    TOPIC1 --> CONS
    TOPIC2 --> CONS
    
    CONS --> CACHE
    CONS --> WS
    CONS --> METRICS
    
    WS --> DASH
    WEB --> DASH
    DASH --> CHART
    DASH --> ALERT
```

#### ğŸ”„ æ•°æ®æµæ¶æ„å›¾

```mermaid
flowchart LR
    subgraph "æ•°æ®æº (Data Sources)"
        A[æ¸©åº¦ä¼ æ„Ÿå™¨<br/>Temperature]
        B[æ¹¿åº¦ä¼ æ„Ÿå™¨<br/>Humidity]
        C[å‹åŠ›ä¼ æ„Ÿå™¨<br/>Pressure]
        D[å¼€å…³çŠ¶æ€<br/>Switch Status]
        E[ç”µæµä¼ æ„Ÿå™¨<br/>Current]
    end
    
    subgraph "æ•°æ®é‡‡é›† (Data Collection)"
        F[è®¾å¤‡æ•°æ®é‡‡é›†å™¨<br/>Data Collector]
        G[æ•°æ®é¢„å¤„ç†<br/>Preprocessor]
        H[æ•°æ®æ ¡éªŒ<br/>Validator]
    end
    
    subgraph "æ¶ˆæ¯é˜Ÿåˆ— (Message Queue)"
        I[Kafka Producer<br/>æ¶ˆæ¯ç”Ÿäº§è€…]
        J[device-data Topic<br/>è®¾å¤‡æ•°æ®ä¸»é¢˜]
        K[Consumer Group<br/>æ¶ˆè´¹è€…ç»„]
    end
    
    subgraph "å®æ—¶å¤„ç† (Real-time Processing)"
        L[æ•°æ®è§£æå™¨<br/>Data Parser]
        M[å¼‚å¸¸æ£€æµ‹<br/>Anomaly Detection]
        N[æ•°æ®èšåˆ<br/>Data Aggregation]
    end
    
    subgraph "å®æ—¶æ¨é€ (Real-time Push)"
        O[WebSocket Hub<br/>è¿æ¥ç®¡ç†]
        P[æ¶ˆæ¯è·¯ç”±å™¨<br/>Message Router]
        Q[è´Ÿè½½å‡è¡¡<br/>Load Balancer]
    end
    
    subgraph "å‰ç«¯å±•ç¤º (Frontend Display)"
        R[å®æ—¶ä»ªè¡¨æ¿<br/>Dashboard]
        S[å›¾è¡¨ç»„ä»¶<br/>Charts]
        T[å‘Šè­¦é¢æ¿<br/>Alerts]
    end
    
    A --> F
    B --> F
    C --> F
    D --> F
    E --> F
    
    F --> G
    G --> H
    H --> I
    I --> J
    J --> K
    K --> L
    L --> M
    L --> N
    M --> O
    N --> O
    O --> P
    P --> Q
    Q --> R
    R --> S
    R --> T
```

#### ğŸ”§ å¾®æœåŠ¡æ¶æ„å›¾

```mermaid
graph TB
    subgraph "Producer Service (ç”Ÿäº§è€…æœåŠ¡)"
        P1[è®¾å¤‡æ•°æ®ç”Ÿæˆå™¨<br/>cmd/producer/main.go]
        P2[æ•°æ®ç”Ÿæˆé€»è¾‘<br/>internal/services/producer/]
        P3[Kafkaç”Ÿäº§è€…<br/>kafka_producer.go]
    end
    
    subgraph "Consumer Service (æ¶ˆè´¹è€…æœåŠ¡)"
        C1[æ•°æ®æ¶ˆè´¹å™¨<br/>cmd/consumer/main.go]
        C2[æ¶ˆæ¯å¤„ç†é€»è¾‘<br/>internal/services/consumer/]
        C3[æ•°æ®å¤„ç†å™¨<br/>data_processor.go]
    end
    
    subgraph "WebSocket Service (WebSocketæœåŠ¡)"
        W1[WebSocketæœåŠ¡å™¨<br/>cmd/websocket/main.go]
        W2[è¿æ¥ç®¡ç†<br/>internal/services/websocket/]
        W3[æ¶ˆæ¯æ¨é€<br/>handler.go]
    end
    
    subgraph "Web Service (WebæœåŠ¡)"
        WEB1[WebæœåŠ¡å™¨<br/>cmd/web/main.go]
        WEB2[HTTP API<br/>internal/api/]
        WEB3[é™æ€èµ„æº<br/>web/static/]
    end
    
    subgraph "å…±äº«æ¨¡å— (Shared Modules)"
        CONF[é…ç½®ç®¡ç†<br/>internal/config/]
        MODEL[æ•°æ®æ¨¡å‹<br/>internal/models/]
        UTIL[å·¥å…·å‡½æ•°<br/>internal/utils/]
    end
    
    P1 --> P2
    P2 --> P3
    C1 --> C2
    C2 --> C3
    W1 --> W2
    W2 --> W3
    WEB1 --> WEB2
    WEB2 --> WEB3
    
    P2 --> CONF
    C2 --> CONF
    W2 --> CONF
    WEB2 --> CONF
    
    P2 --> MODEL
    C2 --> MODEL
    W2 --> MODEL
    WEB2 --> MODEL
```

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šæ ¸å¿ƒå®ç°å±•ç¤º (45%)

### 4. å¼€å‘å®æ–½è®¡åˆ’ (æ€»è®¡3å¤©)

#### ğŸ—“ï¸ ç¬¬ä¸€é˜¶æ®µ (ç¬¬1å¤©): é¡¹ç›®åŸºç¡€æ­å»º

**Step 1.1.1: Goæ¨¡å—åˆå§‹åŒ–å’Œä¾èµ–ç®¡ç†é…ç½®**
- åˆå§‹åŒ–Goæ¨¡å— (`go mod init`)
- é…ç½®æ ¸å¿ƒä¾èµ–åŒ… (Kafkaã€WebSocketã€é…ç½®ç®¡ç†)
- è®¾ç½®Goç‰ˆæœ¬è¦æ±‚å’Œæ„å»ºçº¦æŸ
- é…ç½®ä¾èµ–ç‰ˆæœ¬é”å®šç­–ç•¥

**Step 1.1.2: é¡¹ç›®ç›®å½•ç»“æ„è®¾è®¡å’Œåˆ›å»º**
- åˆ›å»ºæ ‡å‡†Goé¡¹ç›®ç›®å½•ç»“æ„
- å»ºç«‹å¾®æœåŠ¡æ¨¡å—ç›®å½•åˆ’åˆ†
- è®¾ç½®å‰ç«¯èµ„æºç›®å½•ç»“æ„
- é…ç½®æµ‹è¯•å’Œæ–‡æ¡£ç›®å½•

#### ğŸ—“ï¸ ç¬¬äºŒé˜¶æ®µ (ç¬¬2å¤©): å¼€å‘ç¯å¢ƒé…ç½®

**Step 1.1.3: Gitä»“åº“é…ç½®å’Œç‰ˆæœ¬æ§åˆ¶ç­–ç•¥**
- åˆå§‹åŒ–Gitä»“åº“å’Œåˆ†æ”¯ç­–ç•¥
- é…ç½®.gitignoreè§„åˆ™å’Œæäº¤è§„èŒƒ
- è®¾ç½®Git Hookså’Œè‡ªåŠ¨åŒ–æ£€æŸ¥
- å»ºç«‹ç‰ˆæœ¬æ ‡ç­¾å’Œå‘å¸ƒç®¡ç†

**Step 1.1.4: Makefileæ„å»ºç³»ç»Ÿå’Œè‡ªåŠ¨åŒ–è„šæœ¬**
- è®¾è®¡Makefileä»»åŠ¡ä½“ç³»
- é…ç½®æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²è‡ªåŠ¨åŒ–
- å»ºç«‹ä»£ç è´¨é‡æ£€æŸ¥æµç¨‹
- è®¾ç½®å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨

#### ğŸ—“ï¸ ç¬¬ä¸‰é˜¶æ®µ (ç¬¬3å¤©): æ–‡æ¡£å’Œè§„èŒƒå»ºç«‹

**Step 1.1.5: README.mdæ–‡æ¡£ç»“æ„å’Œå¼€å‘æŒ‡å—**
- åˆ›å»ºé¡¹ç›®è¯´æ˜æ–‡æ¡£ç»“æ„
- ç¼–å†™å¿«é€Ÿå¼€å§‹æŒ‡å—
- å»ºç«‹APIæ–‡æ¡£æ¡†æ¶
- è®¾ç½®è´¡çŒ®æŒ‡å—å’Œä»£ç è§„èŒƒ

**Step 1.1.6: é¡¹ç›®è§„èŒƒå’Œä»£ç æ ‡å‡†å»ºç«‹**
- å»ºç«‹Goä»£ç é£æ ¼è§„èŒƒ
- é…ç½®é™æ€æ£€æŸ¥å’Œæ ¼å¼åŒ–å·¥å…·
- è®¾ç½®æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- å»ºç«‹æ–‡æ¡£ç»´æŠ¤æ ‡å‡†

### 5. æ ¸å¿ƒæ¶æ„è®¾è®¡è§„èŒƒ

#### ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„æ¶æ„è®¾è®¡

```
industrial-iot-monitor/                   # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ cmd/                                 # åº”ç”¨ç¨‹åºå…¥å£ç›®å½•
â”‚   â”œâ”€â”€ producer/                        # è®¾å¤‡æ•°æ®ç”Ÿæˆå™¨
â”‚   â”‚   â””â”€â”€ main.go                      # ç”Ÿäº§è€…ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ consumer/                        # æ•°æ®æ¶ˆè´¹æœåŠ¡
â”‚   â”‚   â””â”€â”€ main.go                      # æ¶ˆè´¹è€…ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ websocket/                       # WebSocketæœåŠ¡
â”‚   â”‚   â””â”€â”€ main.go                      # WebSocketæœåŠ¡å™¨å…¥å£
â”‚   â””â”€â”€ web/                             # WebæœåŠ¡å™¨
â”‚       â””â”€â”€ main.go                      # WebæœåŠ¡å™¨å…¥å£
â”œâ”€â”€ internal/                            # å†…éƒ¨ä¸šåŠ¡é€»è¾‘ç›®å½•
â”‚   â”œâ”€â”€ config/                          # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ config.go                    # é…ç½®æ–‡ä»¶è§£æ
â”‚   â”‚   â””â”€â”€ env.go                       # ç¯å¢ƒå˜é‡ç®¡ç†
â”‚   â”œâ”€â”€ models/                          # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ device.go                    # è®¾å¤‡æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ message.go                   # æ¶ˆæ¯æ¨¡å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ alert.go                     # å‘Šè­¦æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ services/                        # ä¸šåŠ¡æœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ producer/                    # ç”Ÿäº§è€…æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ data_generator.go        # æ•°æ®ç”Ÿæˆå™¨
â”‚   â”‚   â”‚   â””â”€â”€ kafka_producer.go        # Kafkaç”Ÿäº§è€…
â”‚   â”‚   â”œâ”€â”€ consumer/                    # æ¶ˆè´¹è€…æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ kafka_consumer.go        # Kafkaæ¶ˆè´¹è€…
â”‚   â”‚   â”‚   â””â”€â”€ data_processor.go        # æ•°æ®å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ websocket/                   # WebSocketå¤„ç†å™¨
â”‚   â”‚       â”œâ”€â”€ handler.go               # è¿æ¥å¤„ç†å™¨
â”‚   â”‚       â”œâ”€â”€ hub.go                   # è¿æ¥ç®¡ç†ä¸­å¿ƒ
â”‚   â”‚       â””â”€â”€ client.go                # å®¢æˆ·ç«¯è¿æ¥
â”‚   â”œâ”€â”€ api/                             # HTTP APIæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ handlers/                    # APIå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/                  # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ routes.go                    # è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ utils/                           # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ logger.go                    # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ validator.go                 # æ•°æ®éªŒè¯
â”‚       â””â”€â”€ metrics.go                   # æŒ‡æ ‡æ”¶é›†
â”œâ”€â”€ web/                                 # å‰ç«¯èµ„æºç›®å½•
â”‚   â”œâ”€â”€ static/                          # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ css/                         # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ dashboard.css            # ä»ªè¡¨æ¿æ ·å¼
â”‚   â”‚   â”œâ”€â”€ js/                          # JavaScriptæ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.js             # ä»ªè¡¨æ¿é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ websocket.js             # WebSocketå®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ charts.js                # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ images/                      # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ templates/                       # HTMLæ¨¡æ¿
â”‚       â””â”€â”€ index.html                   # ä¸»é¡µé¢æ¨¡æ¿
â”œâ”€â”€ scripts/                             # éƒ¨ç½²å’Œå·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ build.sh                         # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh                        # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ start-services.sh                # æœåŠ¡å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ performance-test.sh              # æ€§èƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ deployments/                         # éƒ¨ç½²é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ docker/                          # Dockerç›¸å…³
â”‚   â”‚   â”œâ”€â”€ Dockerfile.producer          # ç”Ÿäº§è€…é•œåƒ
â”‚   â”‚   â”œâ”€â”€ Dockerfile.consumer          # æ¶ˆè´¹è€…é•œåƒ
â”‚   â”‚   â”œâ”€â”€ Dockerfile.websocket         # WebSocketé•œåƒ
â”‚   â”‚   â””â”€â”€ Dockerfile.web               # WebæœåŠ¡é•œåƒ
â”‚   â”œâ”€â”€ docker-compose.yml               # æœåŠ¡ç¼–æ’é…ç½®
â”‚   â””â”€â”€ kubernetes/                      # K8séƒ¨ç½²é…ç½®
â”œâ”€â”€ tests/                               # æµ‹è¯•ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ unit/                            # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/                     # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ performance/                     # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ docs/                                # é¡¹ç›®æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ api/                             # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/                    # æ¶æ„æ–‡æ¡£
â”‚   â””â”€â”€ deployment/                      # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ configs/                             # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ config.yaml                      # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ kafka.yaml                       # Kafkaé…ç½®
â”‚   â””â”€â”€ websocket.yaml                   # WebSocketé…ç½®
â”œâ”€â”€ go.mod                               # Goæ¨¡å—ä¾èµ–å®šä¹‰
â”œâ”€â”€ go.sum                               # ä¾èµ–ç‰ˆæœ¬é”å®š
â”œâ”€â”€ Makefile                             # æ„å»ºå’Œä»»åŠ¡è‡ªåŠ¨åŒ–
â”œâ”€â”€ README.md                            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                              # é¡¹ç›®è®¸å¯è¯
â”œâ”€â”€ .gitignore                           # Gitå¿½ç•¥è§„åˆ™
â”œâ”€â”€ .env.example                         # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ docker-compose.yml                   # å¼€å‘ç¯å¢ƒç¼–æ’
```

#### ğŸ“¦ Goæ¨¡å—ç®¡ç†æ¶æ„è®¾è®¡

**go.mod æ¨¡å—é…ç½®è®¾è®¡è§„èŒƒ**:

```go
module industrial-iot-monitor

go 1.24

require (
    // æ ¸å¿ƒæ¡†æ¶ä¾èµ–
    github.com/spf13/viper v1.19.0              // é…ç½®ç®¡ç†
    github.com/spf13/cobra v1.8.1               // å‘½ä»¤è¡Œå·¥å…·
    
    // æ¶ˆæ¯é˜Ÿåˆ—ä¾èµ–
    github.com/Shopify/sarama v1.43.2           // Kafkaå®¢æˆ·ç«¯
    github.com/confluentinc/confluent-kafka-go v2.5.0 // Confluent Kafka
    
    // WebSocketä¾èµ–
    github.com/gorilla/websocket v1.5.3         // WebSocketåº“
    github.com/gorilla/mux v1.8.1               // HTTPè·¯ç”±
    
    // æ•°æ®å¤„ç†ä¾èµ–
    github.com/go-playground/validator/v10 v10.22.0 // æ•°æ®éªŒè¯
    github.com/json-iterator/go v1.1.12         // JSONå¤„ç†
    
    // æ—¥å¿—å’Œç›‘æ§ä¾èµ–
    github.com/sirupsen/logrus v1.9.3           // ç»“æ„åŒ–æ—¥å¿—
    github.com/prometheus/client_golang v1.20.0 // PrometheusæŒ‡æ ‡
    
    // æµ‹è¯•ä¾èµ–
    github.com/stretchr/testify v1.9.0          // æµ‹è¯•æ¡†æ¶
    github.com/testcontainers/testcontainers-go v0.33.0 // é›†æˆæµ‹è¯•
)
```

**ä¾èµ–ç®¡ç†ç­–ç•¥**:

- ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶
- å®šæœŸæ›´æ–°å®‰å…¨è¡¥ä¸
- é”å®šä¸»è¦ç‰ˆæœ¬ï¼Œé¿å…ç ´åæ€§æ›´æ–°
- ä½¿ç”¨go.sumç¡®ä¿ä¾èµ–å®Œæ•´æ€§

#### ğŸ”¨ Makefileä»»åŠ¡æ¶æ„è®¾è®¡

```makefile
# Makefile æ„å»ºä»»åŠ¡è®¾è®¡è§„èŒƒ
.PHONY: help build test clean docker-up docker-down deploy

# é»˜è®¤ç›®æ ‡
.DEFAULT_GOAL := help

# é¡¹ç›®é…ç½®
PROJECT_NAME := industrial-iot-monitor
VERSION := $(shell git describe --tags --always --dirty)
BUILD_TIME := $(shell date +%Y-%m-%dT%H:%M:%S)
GO_VERSION := $(shell go version | awk '{print $$3}')

# æ„å»ºç›®å½•
BUILD_DIR := ./bin
DOCKER_DIR := ./deployments/docker

# æ„å»ºä»»åŠ¡è®¾è®¡
build: build-producer build-consumer build-websocket build-web ## æ„å»ºæ‰€æœ‰æœåŠ¡

build-producer: ## æ„å»ºç”Ÿäº§è€…æœåŠ¡
	@echo "Building producer service..."
	@go build -ldflags "-X main.version=$(VERSION)" -o $(BUILD_DIR)/producer ./cmd/producer

build-consumer: ## æ„å»ºæ¶ˆè´¹è€…æœåŠ¡
	@echo "Building consumer service..."
	@go build -ldflags "-X main.version=$(VERSION)" -o $(BUILD_DIR)/consumer ./cmd/consumer

build-websocket: ## æ„å»ºWebSocketæœåŠ¡
	@echo "Building websocket service..."
	@go build -ldflags "-X main.version=$(VERSION)" -o $(BUILD_DIR)/websocket ./cmd/websocket

build-web: ## æ„å»ºWebæœåŠ¡
	@echo "Building web service..."
	@go build -ldflags "-X main.version=$(VERSION)" -o $(BUILD_DIR)/web ./cmd/web

# æµ‹è¯•ä»»åŠ¡è®¾è®¡
test: test-unit test-integration ## è¿è¡Œæ‰€æœ‰æµ‹è¯•

test-unit: ## è¿è¡Œå•å…ƒæµ‹è¯•
	@echo "Running unit tests..."
	@go test -v -race -coverprofile=coverage.out ./...

test-integration: ## è¿è¡Œé›†æˆæµ‹è¯•
	@echo "Running integration tests..."
	@go test -v -tags=integration ./tests/integration/...

test-performance: ## è¿è¡Œæ€§èƒ½æµ‹è¯•
	@echo "Running performance tests..."
	@go test -v -bench=. -benchmem ./tests/performance/...

test-coverage: ## ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
	@go tool cover -html=coverage.out -o coverage.html

# å¼€å‘ä»»åŠ¡è®¾è®¡
dev: ## å¯åŠ¨å¼€å‘ç¯å¢ƒ
	@echo "Starting development environment..."
	@docker-compose -f docker-compose.dev.yml up -d

dev-producer: ## å¯åŠ¨ç”Ÿäº§è€…å¼€å‘æ¨¡å¼
	@go run ./cmd/producer -config=configs/config.dev.yaml

dev-consumer: ## å¯åŠ¨æ¶ˆè´¹è€…å¼€å‘æ¨¡å¼
	@go run ./cmd/consumer -config=configs/config.dev.yaml

dev-websocket: ## å¯åŠ¨WebSocketå¼€å‘æ¨¡å¼
	@go run ./cmd/websocket -config=configs/config.dev.yaml

dev-web: ## å¯åŠ¨WebæœåŠ¡å¼€å‘æ¨¡å¼
	@go run ./cmd/web -config=configs/config.dev.yaml

# ä»£ç è´¨é‡ä»»åŠ¡
lint: ## ä»£ç é™æ€æ£€æŸ¥
	@echo "Running linter..."
	@golangci-lint run ./...

format: ## ä»£ç æ ¼å¼åŒ–
	@echo "Formatting code..."
	@gofmt -s -w .
	@goimports -w .

# ä¾èµ–ç®¡ç†ä»»åŠ¡
deps: ## å®‰è£…ä¾èµ–
	@echo "Installing dependencies..."
	@go mod download
	@go mod tidy

# éƒ¨ç½²ä»»åŠ¡è®¾è®¡
docker-build: ## æ„å»ºDockeré•œåƒ
	@echo "Building Docker images..."
	@docker build -f $(DOCKER_DIR)/Dockerfile.producer -t $(PROJECT_NAME)/producer:$(VERSION) .
	@docker build -f $(DOCKER_DIR)/Dockerfile.consumer -t $(PROJECT_NAME)/consumer:$(VERSION) .
	@docker build -f $(DOCKER_DIR)/Dockerfile.websocket -t $(PROJECT_NAME)/websocket:$(VERSION) .
	@docker build -f $(DOCKER_DIR)/Dockerfile.web -t $(PROJECT_NAME)/web:$(VERSION) .

docker-up: ## å¯åŠ¨DockeræœåŠ¡
	@echo "Starting Docker services..."
	@docker-compose up -d

docker-down: ## åœæ­¢DockeræœåŠ¡
	@echo "Stopping Docker services..."
	@docker-compose down

# æ¸…ç†ä»»åŠ¡
clean: ## æ¸…ç†æ„å»ºäº§ç‰©
	@echo "Cleaning build artifacts..."
	@rm -rf $(BUILD_DIR)
	@go clean -cache

help: ## æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
	@echo "Available targets:"
	@awk 'BEGIN {FS = ":.*?## "} /^[a-zA-Z_-]+:.*?## / {printf "  \033[36m%-20s\033[0m %s\n", $$1, $$2}' $(MAKEFILE_LIST)
```

#### ğŸ”§ Gité…ç½®æ¶æ„è®¾è®¡

**.gitignore è§„åˆ™è®¾è®¡**:

```gitignore
# Goç¼–è¯‘äº§ç‰©
*.exe
*.exe~
*.dll
*.so
*.dylib
*.test
*.out
/bin/
/dist/

# Goæ¨¡å—ç¼“å­˜
/vendor/
go.work
go.work.sum

# IDEé…ç½®
.vscode/
.idea/
*.swp
*.swo
*~

# ç¯å¢ƒé…ç½®
.env
.env.local
.env.*.local

# æ—¥å¿—æ–‡ä»¶
*.log
/logs/

# ä¸´æ—¶æ–‡ä»¶
/tmp/
*.tmp
*.temp

# æµ‹è¯•è¦†ç›–ç‡
coverage.out
coverage.html

# Dockerç›¸å…³
.docker/

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db
```

**Gitåˆ†æ”¯ç­–ç•¥**:

- **main**: ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬
- **develop**: å¼€å‘åˆ†æ”¯ï¼Œé›†æˆæœ€æ–°åŠŸèƒ½
- **feature/***: åŠŸèƒ½å¼€å‘åˆ†æ”¯
- **hotfix/***: çƒ­ä¿®å¤åˆ†æ”¯
- **release/***: å‘å¸ƒå‡†å¤‡åˆ†æ”¯

**æäº¤è§„èŒƒ**:

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¿ç»´ä¸éƒ¨ç½² (10%)

### 6. é¡¹ç›®ç®¡ç†ç­–ç•¥

#### ğŸ”„ ç‰ˆæœ¬æ§åˆ¶å’Œåˆ†æ”¯ç®¡ç†ç­–ç•¥

- **Git Flowå·¥ä½œæµ**: æ ‡å‡†åŒ–çš„åˆ†æ”¯ç®¡ç†æ¨¡å¼
- **è¯­ä¹‰åŒ–ç‰ˆæœ¬**: MAJOR.MINOR.PATCHç‰ˆæœ¬è§„èŒƒ
- **è‡ªåŠ¨åŒ–æ ‡ç­¾**: åŸºäºæäº¤ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬æ ‡ç­¾
- **ä»£ç å®¡æŸ¥**: Pull Requestå¼ºåˆ¶ä»£ç å®¡æŸ¥æµç¨‹

#### ğŸ›¡ï¸ ä»£ç å®¡æŸ¥å’Œè´¨é‡ä¿è¯æµç¨‹

- **é™æ€æ£€æŸ¥**: golangci-lintä»£ç è´¨é‡æ£€æŸ¥
- **æµ‹è¯•è¦†ç›–ç‡**: è¦æ±‚80%ä»¥ä¸Šçš„æµ‹è¯•è¦†ç›–ç‡
- **è‡ªåŠ¨åŒ–æµ‹è¯•**: æäº¤å‰è‡ªåŠ¨è¿è¡Œå•å…ƒæµ‹è¯•
- **æ–‡æ¡£åŒæ­¥**: ä»£ç å˜æ›´å¿…é¡»åŒæ­¥æ›´æ–°æ–‡æ¡£

#### ğŸš€ æŒç»­é›†æˆå’Œè‡ªåŠ¨åŒ–æ„å»ºå‡†å¤‡

- **GitHub Actions**: è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•æµæ°´çº¿
- **Dockeré•œåƒ**: è‡ªåŠ¨æ„å»ºå’Œæ¨é€Dockeré•œåƒ
- **å¤šå¹³å°æ„å»º**: æ”¯æŒLinuxã€macOSã€Windowså¹³å°
- **ä¾èµ–å®‰å…¨**: è‡ªåŠ¨æ£€æŸ¥ä¾èµ–åŒ…å®‰å…¨æ¼æ´

### 7. å¼€å‘ç¯å¢ƒ

#### ğŸ’» æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å—

**å¿…éœ€å·¥å…·**:

- Go 1.24+
- Docker & Docker Compose
- Makeå·¥å…·
- Git 2.0+

**æ¨èå·¥å…·**:

- golangci-lint (ä»£ç æ£€æŸ¥)
- goimports (å¯¼å…¥æ•´ç†)
- delve (è°ƒè¯•å·¥å…·)
- air (çƒ­é‡è½½)

#### ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒIDEé…ç½®å»ºè®®

**VS Codeé…ç½®**:

```json
{
  "go.useLanguageServer": true,
  "go.lintTool": "golangci-lint",
  "go.formatTool": "goimports",
  "go.testFlags": ["-v", "-race"],
  "editor.formatOnSave": true
}
```

**GoLandé…ç½®**:

- å¯ç”¨Go Modulesæ”¯æŒ
- é…ç½®ä»£ç æ ¼å¼åŒ–è§„åˆ™
- è®¾ç½®æµ‹è¯•è¿è¡Œé…ç½®
- é…ç½®Gitæäº¤æ¨¡æ¿

#### ğŸ“‹ ä»£ç æ ¼å¼åŒ–å’Œé™æ€æ£€æŸ¥å·¥å…·é…ç½®

**.golangci.yml é…ç½®**:

```yaml
run:
  timeout: 5m
  tests: true

linters-settings:
  gocyclo:
    min-complexity: 15
  govet:
    check-shadowing: true
  misspell:
    locale: US

linters:
  enable:
    - gofmt
    - goimports
    - govet
    - errcheck
    - staticcheck
    - unused
    - gosimple
    - structcheck
    - varcheck
    - ineffassign
    - deadcode
    - typecheck
    - gocyclo
    - misspell
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šé¡¹ç›®æˆæœ (10%)

### 8. åŠŸèƒ½æ¼”ç¤ºä¸æµ‹è¯•

#### âœ… é¡¹ç›®ç»“æ„å®Œæ•´æ€§éªŒè¯é¢„æœŸç»“æœ

**éªŒè¯æ¸…å•**:

- [x] å®Œæ•´çš„ç›®å½•ç»“æ„åˆ›å»º
- [x] Goæ¨¡å—æ­£ç¡®åˆå§‹åŒ–
- [x] ä¾èµ–åŒ…æ­£ç¡®å®‰è£…
- [x] Makefileä»»åŠ¡æ­£å¸¸æ‰§è¡Œ
- [x] Gitä»“åº“æ­£ç¡®é…ç½®
- [x] æ–‡æ¡£ç»“æ„å®Œæ•´

**é¢„æœŸè¾“å‡º**:

```bash
$ make help
Available targets:
  build                æ„å»ºæ‰€æœ‰æœåŠ¡
  test                 è¿è¡Œæ‰€æœ‰æµ‹è¯•
  dev                  å¯åŠ¨å¼€å‘ç¯å¢ƒ
  lint                 ä»£ç é™æ€æ£€æŸ¥
  docker-up            å¯åŠ¨DockeræœåŠ¡
  clean                æ¸…ç†æ„å»ºäº§ç‰©
```

#### ğŸ§ª Goæ¨¡å—å’Œæ„å»ºç³»ç»Ÿæµ‹è¯•é¢„æœŸæ•ˆæœ

**æ¨¡å—éªŒè¯**:

```bash
$ go mod verify
all modules verified

$ go build ./...
# æ‰€æœ‰åŒ…ç¼–è¯‘æˆåŠŸ

$ make build
Building producer service...
Building consumer service...
Building websocket service...
Building web service...
```

#### ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®æµ‹è¯•é¢„æœŸæ•°æ®

**ç¯å¢ƒæ£€æŸ¥**:

```bash
$ go version
go version go1.24.4 darwin/arm64

$ docker --version
Docker version 24.0.0

$ make deps
Installing dependencies...
go: downloading github.com/spf13/viper v1.17.0
...
```

### 9. GitHubå±•ç¤ºè¦ç‚¹

#### ğŸ¯ é¡¹ç›®äº®ç‚¹æ€»ç»“

**å·¥ä¸šIoTç³»ç»Ÿç‰¹è‰²**:

- æ”¯æŒ10,000+è®¾å¤‡å¹¶å‘ç›‘æ§
- å®æ—¶æ•°æ®å¤„ç†èƒ½åŠ›100,000+æ¶ˆæ¯/ç§’
- å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•
- å®Œæ•´çš„ç›‘æ§å’Œå‘Šè­¦ä½“ç³»

**å¾®æœåŠ¡æ¶æ„ä¼˜åŠ¿**:

- æœåŠ¡ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
- æŠ€æœ¯æ ˆçµæ´»é€‰æ‹©
- æ•…éšœéš”ç¦»å’Œæ¢å¤
- å›¢é˜Ÿå¹¶è¡Œå¼€å‘

**é«˜å¹¶å‘å¤„ç†èƒ½åŠ›**:

- Goåç¨‹å¹¶å‘æ¨¡å‹
- Kafkaåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—
- WebSocketå®æ—¶é€šä¿¡
- å†…å­˜ç¼“å­˜ä¼˜åŒ–

**å®æ—¶ç›‘æ§ä»·å€¼**:

- è®¾å¤‡çŠ¶æ€å®æ—¶æ„ŸçŸ¥
- å¼‚å¸¸æƒ…å†µåŠæ—¶å‘Šè­¦
- æ•°æ®å¯è§†åŒ–å±•ç¤º
- å†å²è¶‹åŠ¿åˆ†æ

#### ğŸ’¡ æŠ€æœ¯èƒ½åŠ›å±•ç¤º

**Goè¯­è¨€å·¥ç¨‹åŒ–å®è·µ**:

- æ ‡å‡†é¡¹ç›®ç»“æ„è®¾è®¡
- æ¨¡å—åŒ–ä»£ç ç»„ç»‡
- å®Œæ•´çš„æ„å»ºç³»ç»Ÿ
- è‡ªåŠ¨åŒ–æµ‹è¯•ç­–ç•¥

**ç³»ç»Ÿæ¶æ„è®¾è®¡èƒ½åŠ›**:

- å¾®æœåŠ¡æ¶æ„è®¾è®¡
- æ¶ˆæ¯é˜Ÿåˆ—åº”ç”¨
- å®æ—¶é€šä¿¡å®ç°
- å®¹å™¨åŒ–éƒ¨ç½²

**é¡¹ç›®ç®¡ç†èƒ½åŠ›**:

- Gitç‰ˆæœ¬æ§åˆ¶ç­–ç•¥
- ä»£ç è´¨é‡ä¿è¯
- æ–‡æ¡£ç»´æŠ¤è§„èŒƒ
- æŒç»­é›†æˆå‡†å¤‡

#### ğŸ“Š é¢„æœŸé¡¹ç›®è§„æ¨¡å’Œå¤æ‚åº¦å±•ç¤º

**ä»£ç è§„æ¨¡é¢„ä¼°**:

- æ€»ä»£ç è¡Œæ•°: ~5,000è¡Œ
- Goä»£ç : ~3,500è¡Œ
- å‰ç«¯ä»£ç : ~1,000è¡Œ
- é…ç½®å’Œè„šæœ¬: ~500è¡Œ

**åŠŸèƒ½æ¨¡å—å¤æ‚åº¦**:

- æ•°æ®ç”Ÿäº§è€…: ä¸­ç­‰å¤æ‚åº¦
- æ•°æ®æ¶ˆè´¹è€…: é«˜å¤æ‚åº¦
- WebSocketæœåŠ¡: ä¸­ç­‰å¤æ‚åº¦
- Webå‰ç«¯: ä½å¤æ‚åº¦

**æŠ€æœ¯æŒ‘æˆ˜ç‚¹**:

- é«˜å¹¶å‘è¿æ¥ç®¡ç†
- å®æ—¶æ•°æ®å¤„ç†
- æ¶ˆæ¯é˜Ÿåˆ—ä¼˜åŒ–
- å‰ç«¯å®æ—¶æ›´æ–°

---

## ğŸ“š é¡¹ç›®æ€»ç»“

### ğŸ¯ æ ¸å¿ƒæŠ€æœ¯äº®ç‚¹

æœ¬é¡¹ç›®å±•ç¤ºäº†å®Œæ•´çš„ä¼ä¸šçº§Goè¯­è¨€å·¥ç¨‹åŒ–å®è·µï¼Œé€šè¿‡å·¥ä¸šIoTç›‘æ§ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ï¼Œä½“ç°äº†ä»¥ä¸‹æ ¸å¿ƒæŠ€æœ¯èƒ½åŠ›ï¼š

- **é«˜æ€§èƒ½å¹¶å‘å¤„ç†**: åŸºäºGoåç¨‹çš„å¹¶å‘æ¨¡å‹ï¼Œæ”¯æŒå¤§è§„æ¨¡è®¾å¤‡è¿æ¥
- **å®æ—¶æ•°æ®æµå¤„ç†**: Kafka + WebSocketæ¶æ„å®ç°æ¯«ç§’çº§æ•°æ®ä¼ è¾“
- **å¾®æœåŠ¡æ¶æ„è®¾è®¡**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œæ°´å¹³æ‰©å±•
- **ä¼ä¸šçº§å·¥ç¨‹å®è·µ**: å®Œæ•´çš„é¡¹ç›®ç®¡ç†ã€æ„å»ºç³»ç»Ÿã€æµ‹è¯•ç­–ç•¥

### ğŸš€ é€‚ç”¨åœºæ™¯

**GitHubä½œå“é›†ä»·å€¼**:

- å±•ç¤ºGoè¯­è¨€å…¨æ ˆå¼€å‘èƒ½åŠ›
- ä½“ç°ä¼ä¸šçº§é¡¹ç›®æ¶æ„è®¾è®¡ç»éªŒ
- è¯æ˜å·¥ä¸šIoTé¢†åŸŸä¸“ä¸šçŸ¥è¯†
- å±•ç¤ºå®Œæ•´çš„å·¥ç¨‹åŒ–å¼€å‘æµç¨‹

**æŠ€æœ¯é¢è¯•ä¼˜åŠ¿**:

- æ¶µç›–çƒ­é—¨æŠ€æœ¯æ ˆ(Goã€Kafkaã€WebSocketã€Docker)
- ä½“ç°é«˜å¹¶å‘å¤„ç†ç»éªŒ
- å±•ç¤ºç³»ç»Ÿæ¶æ„è®¾è®¡èƒ½åŠ›
- è¯æ˜é¡¹ç›®ç®¡ç†å’Œå›¢é˜Ÿåä½œèƒ½åŠ›

### ğŸ“‹ é¡¹ç›®åˆå§‹åŒ–æ¸…å•

åŸºäºæœ¬æ¶æ„æ–‡æ¡£ï¼ŒAIå¯ä»¥å®Œæ•´åˆ›å»ºä»¥ä¸‹é¡¹ç›®ç»„ä»¶ï¼š

**âœ… ç›®å½•ç»“æ„åˆ›å»º**:

- cmd/ åº”ç”¨ç¨‹åºå…¥å£ç›®å½•
- internal/ å†…éƒ¨ä¸šåŠ¡é€»è¾‘ç›®å½•
- web/ å‰ç«¯èµ„æºç›®å½•
- scripts/ è„šæœ¬å’Œå·¥å…·ç›®å½•
- deployments/ éƒ¨ç½²é…ç½®ç›®å½•
- tests/ æµ‹è¯•ä»£ç ç›®å½•
- docs/ é¡¹ç›®æ–‡æ¡£ç›®å½•

**âœ… é…ç½®æ–‡ä»¶ç”Ÿæˆ**:

- go.mod æ¨¡å—ä¾èµ–å®šä¹‰
- Makefile æ„å»ºä»»åŠ¡è‡ªåŠ¨åŒ–
- .gitignore Gitå¿½ç•¥è§„åˆ™
- docker-compose.yml æœåŠ¡ç¼–æ’
- README.md é¡¹ç›®è¯´æ˜æ–‡æ¡£

**âœ… å¼€å‘ç¯å¢ƒé…ç½®**:

- ä»£ç æ ¼å¼åŒ–å·¥å…·é…ç½®
- é™æ€æ£€æŸ¥å·¥å…·é…ç½®
- æµ‹è¯•æ¡†æ¶é…ç½®
- ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

### ğŸ”„ ä¸‹ä¸€æ­¥å¼€å‘æ–¹å‘

**Step 1.2 é¢„è§ˆ - é…ç½®ç®¡ç†ç³»ç»Ÿ**:

- å®ç°ç»Ÿä¸€é…ç½®ç®¡ç†
- æ”¯æŒå¤šç¯å¢ƒé…ç½®
- é…ç½®çƒ­é‡è½½æœºåˆ¶
- é…ç½®éªŒè¯å’Œé»˜è®¤å€¼

é€šè¿‡æœ¬æ¶æ„æ–‡æ¡£çš„æŒ‡å¯¼ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªå®Œæ•´ã€è§„èŒƒã€å¯æ‰©å±•çš„ä¼ä¸šçº§Goé¡¹ç›®åŸºç¡€ï¼Œä¸ºåç»­åŠŸèƒ½å¼€å‘å¥ å®šåšå®çš„æ¶æ„åŸºç¡€ã€‚
